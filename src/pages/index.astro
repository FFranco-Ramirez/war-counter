---
import Layout from '../layouts/Layout.astro';
import HUDPanel from '../components/HUDPanel.astro';
import CircularCounter from '../components/CircularCounter.astro';
import StatsPanel from '../components/StatsPanel.astro';
---

<Layout>
	<!-- Video Background from Cloudflare R2 -->
	<video 
		autoplay 
		loop 
		muted 
		playsinline
		id="bg-video"
	>
		<source src="https://pub-05bef4dadb4244b5955db4f29dd95d62.r2.dev/fondo.mp4" type="video/mp4">
	</video>

	<main class="main-container">
		<!-- Main HUD Panel - HORIZONTAL LAYOUT -->
		<HUDPanel>
			<!-- Title -->
			<div class="title-section">
				<h1 class="main-title">
					UKRAINE / RUSSIA CONFLICT DURATION
				</h1>
				<p class="subtitle">A Global Chronicle</p>
			</div>

			<!-- HORIZONTAL CONTENT: Counter on LEFT, Stats on RIGHT -->
			<div class="horizontal-content">
				<!-- Circular Counter - LEFT -->
				<div class="counter-section">
					<CircularCounter />
				</div>

				<!-- Stats Panels - RIGHT -->
				<div class="stats-section">
					<StatsPanel 
						title="DISPLACEMENT" 
						value="6.5M" 
						type="text"
						unit="MILLIONS"
					/>
					<StatsPanel 
						title="HUMANITARIAN AID" 
						value="65" 
						type="circular"
					/>
				</div>
			</div>
		</HUDPanel>

		<!-- Footer -->
		<footer class="footer">
			<p>Built with Astro.js & Tailwind CSS â€” 2025</p>
		</footer>
	</main>
</Layout>

<style>
	#bg-video {
		position: fixed;
		top: 0;
		left: 0;
		width: 100vw;
		height: 100vh;
		object-fit: cover;
		z-index: 0;
	}

	.main-container {
		position: relative;
		z-index: 1;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		padding: 1rem;
	}

	.title-section {
		text-align: center;
		margin-bottom: 1rem;
	}

	.main-title {
		font-size: clamp(0.9rem, 2vw, 1.1rem);
		font-weight: 900;
		letter-spacing: 0.05em;
		color: rgba(255, 255, 255, 0.9);
		text-transform: uppercase;
		margin: 0;
		text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
	}

	.subtitle {
		font-size: clamp(0.55rem, 1vw, 0.65rem);
		color: rgba(255, 255, 255, 0.6);
		letter-spacing: 0.2em;
		text-transform: uppercase;
		margin: 0.25rem 0 0 0;
	}

	/* HORIZONTAL LAYOUT */
	.horizontal-content {
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: 2rem;
		justify-content: center;
	}

	.counter-section {
		flex-shrink: 0;
	}

	.stats-section {
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
	}

	.footer {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		text-align: center;
		padding: 0.75rem 0;
		color: rgba(255, 255, 255, 0.3);
		font-size: 0.6rem;
		letter-spacing: 0.1em;
		z-index: 10;
	}

	@media (max-width: 768px) {
		.horizontal-content {
			flex-direction: column;
			gap: 1rem;
		}
	}
</style>

<!-- Styles commented for testing -->
<!-- 
<style>
	.main-container {
		position: relative;
		z-index: 1;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		padding: 1rem;
	}

	.title-section {
		text-align: center;
		margin-bottom: 1rem;
	}

	.main-title {
		font-size: clamp(1rem, 2.5vw, 1.25rem);
		font-weight: 900;
		letter-spacing: 0.05em;
		color: rgba(255, 255, 255, 0.9);
		text-transform: uppercase;
		margin: 0;
		text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
	}

	.subtitle {
		font-size: clamp(0.6rem, 1.2vw, 0.7rem);
		color: rgba(255, 255, 255, 0.6);
		letter-spacing: 0.2em;
		text-transform: uppercase;
		margin: 0.35rem 0 0 0;
	}

	.stats-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 0.75rem;
		margin: 1rem 0 0 0;
		max-width: 100%;
	}

	.footer {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		text-align: center;
		padding: 1rem 0;
		color: rgba(255, 255, 255, 0.3);
		font-size: 0.65rem;
		letter-spacing: 0.1em;
		z-index: 10;
	}

	@media (max-width: 768px) {
		.stats-grid {
			grid-template-columns: 1fr;
			max-width: 250px;
			gap: 0.75rem;
		}
	}
</style>
-->
